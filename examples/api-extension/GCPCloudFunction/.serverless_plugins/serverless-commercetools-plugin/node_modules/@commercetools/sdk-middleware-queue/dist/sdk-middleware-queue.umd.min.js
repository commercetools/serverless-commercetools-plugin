!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).CommercetoolsSdkMiddlewareQueue={})}(this,function(e){"use strict";function t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function s(o){for(var e=1;e<arguments.length;e++){var c=null!=arguments[e]?arguments[e]:{};e%2?t(Object(c),!0).forEach(function(e){var t,r,n;t=o,n=c[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(c)):t(Object(c)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(c,e))})}return o}e.createQueueMiddleware=function(){function c(e){if(--f,u.length&&f<=i){var t=u.shift();f+=1,e(t.request,t.response)}}var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).concurrency,i=void 0===e?20:e,u=[],f=0;return function(o){return function(e,t){var r=s({},t,{resolve:function(e){t.resolve(e),c(o)},reject:function(e){t.reject(e),c(o)}});if(u.push({request:e,response:r}),f<i){var n=u.shift();f+=1,o(n.request,n.response)}}}},Object.defineProperty(e,"__esModule",{value:!0})});
